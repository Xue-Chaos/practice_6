**任务描述：基于ZigBee模块（白板）进行基础开发，上电先让LED1常亮，LED2灭，然后过2秒后开始通过定时器每隔2秒进行可燃气体传感器数据的定时采集，并把采集到的可燃气体传感器数据发送到串口，且每次发送的时候，改变一下LED2灯的状态，用来指示有在持续通信。**

**设备列表：**

1.  ZigBee模块（白板）（含天线）1块
2.  NEWLab智慧盒（含USB连接线）1个
3.  CC Debugger烧写器1个
4.  可燃气体传感器1个

**接线说明：**

把ZigBee模块（白板）放到智慧盒上，智慧盒用USB连接线与PC机相连。

**注意事项：**

**如果ZigBee模块（白板）上有JP2拨码开关，请确保JP2拨向左边J9处，如果没有JP2拨码开关则可以不用处理。**

**任务要求：**

在 “C:\\JoyWork\\01\\work\\Task\\”文件夹下创建IAR工程，工程名字和工作空间的名字均为：“Task+准考证号后12位”，把“Task” 文件夹下的“test.c”添加到IAR工程中，配置好工程选项参数，确保工程编译成功。（4分）。在“test.c”中添加代码实现以下功能：

1、ZigBee模块一上电，LED1灯常亮。LED2灯灭。（2分）

2、使用定时器1中断方式来控制采集传感器数据的时间，定时器1参数配置要求采用自由运行模式、32分频。（4分）

3、可燃气体传感器插在ZigBee的传感器插槽上，查看相关的电路图和数据手册，设置采集可燃气体传感器的引脚初始化和ADC相关参数，ADC要求配置为： 3.3V电压(AVDD5引脚)、128位抽取率、AIN0单通道。（9分）

4、串口通信要求使用串口0的备用位置1: P0_2(RX), P0_3(TX)，波特率115200，奇偶校验无，1位停止位，8位数据位，流控无。（8分）

5、在定时器1的中断处理函数中，定时2秒时间到后，改变一下LED2灯的状态，用来指示有在持续通信，并将计数值清零。（6分）

6、在定时器1的中断处理函数中，定时2秒时间到后，把采集到的可燃气体传感器数据的电压值发送到串口。把串口输出信息截图保存至“图集.docx”中的8.png处。（14分）

7、**考试时间截止后，确保“图集.docx”和源码工程文件已保存后， 对work文件夹进行压缩，点击“上传文件”将压缩后的“work.zip”上传至服务器指定目录。**
